<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Lista klientów.</title>
    <style>
        html, body{
            width: 100%;
            height:100%;
            margin: 0px;
            overflow: hidden;
        }
    </style>

    <link rel="stylesheet" type="text/css" href="codebase/dhtmlx.css">

    <script src="codebase/dhtmlx.js" type="text/javascript"></script>

</head>
<body onload="doOnLoad()">

    <script>
        var myLayout;
        function doOnLoad(){

            // Inicjalizacja Layout'u
            myLayout = new dhtmlXLayoutObject({
                parent: document.body,
                pattern: "2E",
                offsets: {
                    top: 10,
                    right: 20,
                    bottom: 20,
                    left: 20
                }
            });

            // Incjalizacja Grid'a
            var myGrid = myLayout.cells('a').attachGrid();
            myGrid.setHeader('Imię,Nazwisko,Adres,PESEL');
            myGrid.setColumnIds('fname,lname,adress,pesel');
            myGrid.setColTypes('ro,ro,ro,ro');
            myGrid.init();

            // Pobieranie danych z bazy za pomocą AJAX
            if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            } else {// code for IE6, IE5
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function() {
                if (this.readyState==4 && this.status==200) {
                    var dataFromServer = this.responseText.replace(/cell\d*/g,'cell');
                    myGrid.parse(dataFromServer);
                }
            }
            xmlhttp.open("GET","data/get_data.asp",true);
            xmlhttp.send();


        }
    </script>
</body>
</html>